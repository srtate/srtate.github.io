---
import { getCollection, render } from 'astro:content';
import PublicationMDLayout from '../../layouts/PublicationMDLayout.astro';
import Publication from '../../components/Publication.astro';

export async function getStaticPaths() {
  const pubs = await getCollection('papers');
  return pubs.map((pub => ({
    params: { slug: pub.id }, props: { pub }
  })));
}

const { pub } = Astro.props;
const { Content } = await render(pub);
---
<PublicationMDLayout>
  <h2 style="margin-top:34px; margin-bottom:16px;">Publication Information</h2>
  <p><Publication url=null data={pub.data}/></p>
  <p><b>Abstract</b></p>
  <p>
  <Content />
  </p>
</PublicationMDLayout>
